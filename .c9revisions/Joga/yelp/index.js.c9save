{"ts":1364011354504,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"(function() {\n  var Schema, YelpDB, YelpSchema, config, mongoose, yelp;\n\n  mongoose = require('mongoose');\n\n  yelp = require('yelp');\n\n  Schema = mongoose.Schema;\n\n  mongoose.set('debug', false);\n\n  console.log(\"====== Connecting to the YELP api ======\");\n\n  config = {\n    key: \"ULb0iq52-9JCj2nBLWPdTg\",\n    secret: \"z1HhxKabTug-ZJjaDyLKvSbHYmM\",\n    tokenKey: \"i7_aeh2stEE3G1RN4iDWwa4m8iU0NagY\",\n    tokenSecret: \"k0HLZ-bn3JyPRGopwxRdklUsjPU\"\n  };\n\n  yelp = yelp.createClient({\n    consumer_key: config.key,\n    consumer_secret: config.secret,\n    token: config.tokenKey,\n    token_secret: config.tokenSecret\n  });\n\n  YelpSchema = new Schema({\n    region: {\n      center: {\n        latitude: {\n          type: Number\n        },\n        longitude: {\n          type: Number\n        }\n      }\n    },\n    businesses: {\n      display_phone: {\n        type: String\n      },\n      id: {\n        type: String\n      },\n      is_claimed: {\n        type: String\n      },\n      is_closed: {\n        type: String\n      },\n      image_url: {\n        type: String\n      },\n      display_phone: {\n        type: String\n      },\n      location: {\n        address: {\n          type: String\n        },\n        city: {\n          type: String\n        },\n        country_code: {\n          type: String\n        },\n        postal_code: {\n          type: String\n        },\n        state_code: {\n          type: String\n        }\n      },\n      mobile_url: {\n        type: String\n      },\n      name: {\n        type: String\n      },\n      phone: {\n        type: String\n      },\n      review_count: {\n        type: String\n      },\n      snippet_text: {\n        type: String\n      },\n      url: {\n        type: String\n      }\n    }\n  });\n\n  YelpDB = mongoose.model('YelpDB', YelpSchema);\n\n  yelp.search({\n    term: \"soccer\",\n    location: \"San Francisco\",\n    limit: \"1\"\n  }, function(error, stream) {\n    return console.log(\"INSERTED - \" + data.businesses.name + \" with \" + data.businesses.review_count + \" reviews\");\n  });\n\n}).call(this);\n"]],"start1":0,"start2":0,"length1":0,"length2":2013}]],"length":2013}
{"contributors":["adechevigne@gmail.com"],"silentsave":false,"ts":1364012084549,"patch":[[{"diffs":[[0,"\"1\"\n"],[-1,"  }, function(error, stream) {\n"],[0,"    "]],"start1":1839,"start2":1839,"length1":39,"length2":8}]],"length":1982,"saved":false}
